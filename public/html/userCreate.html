<div class="">
        <div class="page-title">
          <div class="title_left">
            <h3>User Profile</h3>
          </div>

        </div>
        <div class="clearfix"></div>

        <div class="row">
          <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="x_panel">
              <div class="x_title">
                <h2>รายละเอียด <small></small></h2>
               
                <div class="clearfix"></div>
              </div>
              <div class="x_content">

                <div class="col-md-3 col-sm-3 col-xs-12 profile_left" style="text-align: center; margin-top: 20px;">

                  <div class="profile_img">
                    <!-- end of image cropping -->
                    <div id="crop-avatar">
                      <!-- Current avatar -->
                      <div class="avatar-view" title="Change the avatar" style="margin: 0 auto">
                        <input type="file" id="fileLoader" name="files" ng-change="onProfileChange()" style="display: none" ng-model="account.account_photo_path" title="Load File" />
                        <img data-ng-src="{{ profile_base64 || getPathFile(account.account_photo_path) || '/static/images/user.png' }}" style="width: 100%; height: 100%" alt="Avatar">
                      </div>

                      <!-- Loading state -->
                      <div class="loading" aria-label="Loading" role="img" tabindex="-1"></div>
                    </div>
                    <!-- end of image cropping -->

                  </div>
                  <!-- profile detail -->
                  <div ng-if="is_edited">
                      <h3>{{ account.account_first_name + ' ' + account.account_last_name }}</h3>
                      
                      <ul class="list-unstyled user_data">
                        <li><i class="fa fa-calendar" style="margin-right: 5px"></i> อัพเดทเมื่อวันที่ {{ account.account_updated }}
                        </li>
                      </ul>
                  </div>
                  <!-- end of profile detail -->
                  <a style="margin: 28px;" class="btn btn-success" ng-click="onClickChangeProfile()"><i class="fa fa-edit m-right-xs" style="margin-right: 5px" ></i>เปลี่ยนรูปโปรไฟล์</a>
                  <br />
                </div>
                <div class="col-md-9 col-sm-9 col-xs-12">

                  <div class="" role="tabpanel" data-example-id="togglable-tabs">
                    <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                        <li role="presentation" class="active"><a id="home-tab" role="tab" ng-click="change_tab(1)" data-toggle="tab" aria-expanded="true">รายละเอียด</a>
                        </li>
                        <li role="presentation" ng-if="is_edited" class=""><a role="tab" ng-click="change_tab(2)" data-toggle="tab" aria-expanded="false">ลูกค้าที่ได้รับมอบหมาย</a>
                        </li>
                    </ul>
                    <div ng-show="tab_index == 2" class="tab-content">
                      <table id="datatable-responsive" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                          <thead>
                            <tr>
                              <th style="width: 30px">รูป</th>
                              <th>รหัสลูกค้า</th>
                              <th>ชื่อธุรกิจ</th>
                              <th>Grade</th>
                              <th>ประเภทธุรกิจ</th>
                              <th>เบอร์โทรศัพท์</th>
                              <th>ภูมิภาค</th>
                              <th>ชื่อผู้บริหาร</th>
                              <th>จำนวนสัตว์ที่เลี้ยง</th>
                              <th># Action</th>
                            </tr>
                          </thead>
                          <tbody>
                          </tbody>
                      </table>
                    </div>
                    <div ng-show="tab_index == 1" class="tab-content">
                      <div role="tabpanel" class="tab-pane fade active in" id="tab_content1" aria-labelledby="home-tab">   
                        <div class="x_content">
                            <small ng-if="is_edited">* ถ้าหากไม่ต้องการเปลี่ยน password ไม่ต้องทำการกรอกในช่อง password </small>
                            <form class="form-horizontal form-label-left input_mask">
        
                              <div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
                                  <input type="text" class="form-control has-feedback-left" id="inputSuccess2" placeholder="ชื่อ" ng-model="account.account_first_name">
                                  <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                              </div>
          
                              <div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
                                  <input type="text" class="form-control" id="inputSuccess3" placeholder="นามสกุล" ng-model="account.account_last_name">
                                  <span class="fa fa-user form-control-feedback right" aria-hidden="true"></span>
                              </div>
          
                              <div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
                                  <input type="text" class="form-control has-feedback-left"  placeholder="อีเมล์" ng-model="account.account_email">
                                  <span class="fa fa-envelope form-control-feedback left" aria-hidden="true"></span>
                              </div>
          
                              <div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
                                  <input type="text" class="form-control" id="inputSuccess5" placeholder="เบอร์โทรศัพท์" ng-model="account.account_phone">
                                  <span class="fa fa-phone form-control-feedback right" aria-hidden="true"></span>
                              </div>
                              
                              <div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
                                  <input type="password" class="form-control has-feedback-left"  placeholder="Password" ng-model="account.account_password">
                                  <span class="fa fa-lock form-control-feedback left" aria-hidden="true"></span>
                              </div>
                              
                              <div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
                                  <select class="form-control has-feedback-left" ng-model="account.account_position">
                                      <option value="">ตำแหน่ง</option>
                                      <option value="ฝ่ายขาย">ฝ่ายขาย</option>
                                      <option value="admin">Admin</option>
                                  </select>
                                  <span class="fa fa-envelope form-control-feedback left" aria-hidden="true"></span>
                              </div>

                              <div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback">
                                  <input type="password" class="form-control has-feedback-left"  placeholder="Confirm Password" ng-model="account.account_confirm_password">
                                  <span class="fa fa-lock form-control-feedback left" aria-hidden="true"></span>
                              </div>
                              <div class="ln_solid"></div>
                              
                              <div class="form-group" style="text-align: right" >
                                  
                                  <div class="col-md-12 col-sm-12 col-xs-12" style="margin-top: 23px">
                                      <hr />
                                    <p style="color: red">{{ error }}</p>
                                    <a href="/#!/user" type="submit" class="btn btn-primary">ยกเลิก</a>
                                    <button ng-if="!is_edited" type="submit" class="btn btn-success" ng-click="on_create()">สร้าง</button>
                                    <button ng-if="is_edited" type="submit" class="btn btn-success" ng-click="on_edit()">เเก้ไข</button>
                                  </div>
                              </div>
                            </form>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-12 col-sm-12 col-xs-12">
              <div class="x_panel">
                <div class="x_title">
                  <h2>กลุ่มลูกค้า <small>สามารถกดปุ่ม ctrl หรือ shift เพื่อทำการเลือกหลายกลุ่ม</small></h2>
                 
                  <div class="clearfix"></div>
                </div>
                
                <div class="x_content" style="display: flex">
                    <div style="flex: 1; padding: 15px">
                        <div class="panel panel-default">
                          <div class="panel-heading" style="display: flex">
                            <p>Available Group</p>
                            <div style="flex: 1"></div>
                            <form style="width: 50%">
                              <div class="col-xs-12 form-group pull-right top_search" style="margin-bottom: 0px">
                                <div class="input-group" style="margin-bottom: 0px">
                                  <input type="text" class="form-control" placeholder="Search for..." ng-model="queryAvailableGroup">
                                  <span class="input-group-btn">
                                      <button class="btn btn-default" type="button">Go!</button>
                                  </span>
                                </div>
                              </div>
                            </form>
                          </div>
                          <div class="panel-body" style="height: 300px; overflow-y: scroll; padding: 0">
                              <ul class="list-group">
                                  <li class="list-group-item" style="cursor: pointer" 
                                    ng-class="{ selected : is_in_selected_available_group(group.business_id)}" 
                                    ng-click="on_click_group_in_available_group($event, group.business_id )" 
                                    ng-repeat="group in available_group  | filter: filterFn track by $index"
                                    ng-if="is_not_in_chosen_group(group.business_id)"
                                  >
                                      <div style="width: 35%">
                                          <strong>{{ group.business_id }}</strong>
                                      </div>
                                      <span> {{  group.business_name }}</span>
                                  </li>
                                </ul>
                          </div>
                        </div>
                        <div style="text-align: center">
                            <button class="btn" style="background-color:transparent" ng-click="on_select_all_available_group()" ><i class="fa fa-check-circle" style="font-size: 25px"></i> <span>เลือกทั้งหมด</span></button>
                        </div>
                    </div>
                    <div style="flex-direction: column; display: flex; justify-content: center;">
                        <button class="btn" style="background-color:transparent" ng-click="on_click_add()" ><i class="fa fa-chevron-circle-right" style="font-size: 25px"></i> </button>
                        <button class="btn" style="background-color:transparent" ng-click="on_click_remove()" ><i class="fa fa-chevron-circle-left" style="font-size: 25px"></i> </button>
                    </div>
                    <div style="flex: 1; padding: 15px">
                          <div class="panel panel-default">
                            <div class="panel-heading" style="display: flex">
                              <p>Chosen Group</p>
                              <div style="flex: 1"></div>
                              <form style="width: 50%">
                                <div class="col-xs-12 form-group pull-right top_search" style="margin-bottom: 0px">
                                  <div class="input-group" style="margin-bottom: 0px">
                                    <input type="text" class="form-control" placeholder="Search for..." ng-model="queryChosenGroup">
                                    <span class="input-group-btn">
                                        <button class="btn btn-default" type="button">Go!</button>
                                    </span>
                                  </div>
                                </div>
                              </form>
                            </div>
                            <div class="panel-body" style="height: 300px; overflow-y: scroll; padding: 0">
                                <ul class="list-group">
                                    <li class="list-group-item" style="cursor: pointer" 
                                      ng-class="{ selected : is_in_selected_chosen_group(group.business_id)}"  
                                      ng-repeat="group in chosen_group | filter: filterCg track by $index" 
                                      ng-click="on_click_group_in_chosen_group($event, group.business_id )" 
                                    >
                                        <div style="width: 35%">
                                            <strong>{{ group.business_id }}</strong>
                                        </div>
                                        <span> {{  group.business_name }}</span>
                                    </li>
                                </ul>
                            </div>
                          </div>
                          <div style="text-align: center">
                              <button class="btn" style="background-color:transparent" ng-click="on_select_all_chosen_group()"><i class="fa fa-times-circle" style="font-size: 25px"></i> <span>ลบทั้งหมด</span></button>
                          </div>
                    </div>
                </div>
              </div>
            </div>
        </div>
      </div>